<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="White Station High School Class of 1970">
        <title>White Station High School Class of 1970</title>
        <link href="/css/main.css" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    </head>
    <body>
        <main>
            <div class="nav">
                <ul class="nav__list">
                    <li class="nav__list-item nav__list-item--home">
                        <img src="./img/White_Station_High_School_logo.gif" class="nav__logo" alt="White Station High School Logo">                        
                    </li>
                    <li class="nav__list-item nav__list-item--home">
                        <a class="nav__link nav__title" href="/">White Station High School Class of 1970</a>
                    </li>
                </ul>

            </div>
            <section class="section section--hero" style="background-image:url('./img/courtyard.jpg');height:400px;background-position-y: -190px">
                <div>
                    <h1 style="padding-top:100px;padding-left:100px;color:#fff;">Get Ready for the Reunion!!!</h1>
                </div>  
            </section>

            <section class="cards">
                <div class="card card--padded card--spaced card--constrained card--half">
                    <h2 class="card__title">About the Site</h2>
                    <div class="card__description">
                        <p>
                            The purpose of this web site is to communicate with the <a href="http://www.scsk12.org/schools/whitestation.hs/site/index.shtml">White Station High School</a> - Class of 1970 in Memphis, Tennessee.
                        </p>
                        <p>
                            We primarily use the website to share news, such as about reunions and other gatherings that we might have. See the <a href="#planningCommittee">planning committee</a> for class events. If you are a classmate who wants to join the committee or just receive information about our events, <a href="mailto:lindakgoodwin@comcast.net">let us know</a>.            
                        </p>
                    </div>
                </div>
                <div class="card card--padded card--spaced card--constrained card--half">
                    <h2 class="card__title">News</h2>
                    <div class="card__description">
                        <p>Some text here about the reunion.</p>
                    </div>
                </div>
                <div class="card card--padded card--spaced card--centered">
                    <div class="cards cards--stacked">
                        <div class="icon__container"><a href="https://www.facebook.com/groups/28463570769/"><img class="icon" src="./img/f_logo_RGB-Blue_58.png"></a></div>
                        <div class="icon__container"><a href="mailto:lindakgoodwin@comcast.net?subject=White%20Station%2070%20Website"><img class="icon" src="./img/baseline_mail_black_48dp.png"></a></div>
                        <div class="icon__container"><a href="http://team5045.com/#/home/"><img class="icon" src="./img/RoboticsAd.jpg"></a></div>
                        <div class="icon__container"><a href="https://www.classmates.com/places/school/White-Station-High-School/4473"><img class="icon" src="./img/classmatesicon.png"></a></div>
                        <div class="icon__container"><a href="https://en.wikipedia.org/wiki/White_Station_High_School"><img class="icon" src="./img/Wikipedia-logo.png"></a></div>
                        <div class="icon__container"><a href="https://www.alumniclass.com/white-station-high-school-spartans-memphis-tn/"><img class="icon" src="./img/Wikipedia-logo.png"></a></div>
                    </div>
                </div>
            </section>
            <div id="app">
                <section class="section section--padded">
                    <div class="tab__bar">
                        <button v-on:click="activeTab=0" class="tab__button">All Classmates</button>
                        <button v-on:click="activeTab=1" class="tab__button">Memorials</button>
                        <button v-on:click="activeTab=2" class="tab__button">How We Look Now</button>
                    </div>
                    <div v-if="activeTab===0" class="tab__content">
                        <div class="persons person__columns">
                            <personname v-for="person in people" v-bind:key="person.id" v-bind:person="person" v-if="!person.photo_now && !person.deceased"></personname>
                        </div>
                    </div>
                    <div v-if="activeTab===1" class="tab__content">
                        <div class="persons cards">
                            <person v-for="person in people" v-bind:key="person.id" v-bind:person="person" v-if="person.deceased"></person>
                        </div>
                    </div>
                    <div v-if="activeTab===2" class="tab__content">
                        <h2 class="card__title">Send us an updated photo!!!</h2>
                        <div class="persons cards">
                            <person v-for="person in people" v-bind:key="person.id" v-bind:person="person" v-if="person.photo_now && !person.deceased"></person>
                        </div>
                    </div>
                </section>
            </div>
            <section class="section section--padded cards" id="planningCommittee">
                <div class="card">
                    <h2 class="card__title">Your Reunion Committee</h2>
                    <p class="card__description">
                        Vanden Willey, Linda (Kantor) Goodwin-Parkinson, Bob Plunk, Sharon (Pepper) Goldstein, Cindy (Anderson) McInntyre, Randy Stepherson, Barby (Fooks) Perlberg, Beverly (Ball) Garrison, Debbie Robinson, Gail (Sacks) Kirshner, Kathy (Jobe) Hays, Leslie Ballin, Stephanie (Solomon) Brannon, Pege (Sternberger) Vaughan, Jimmy Lewis, Brad Hanover, and Steve Fergus.
                    </p>

                </div>
            </section>
        </main>        
        <footer></footer>
        <script src="https://cdn.jsdelivr.net/npm/promise-polyfill@7/dist/polyfill.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    
        <script>
            //document.getElementsByClassName("js-site-nav__list--toggle")[0].addEventListener('click', function (e) {e.preventDefault(); document.getElementsByTagName('body')[0].classList.toggle('menu--open');});
        </script>

        <script type="text/x-template" id="person-template">
            <div class="person card card--padded card--centered card--constrained">
                <div class="image__container">
                    <img v-bind:src="photo_then_url" class="person__image person__image--then">
                    <img v-if="person.photo_now && !person.deceased" v-bind:src="photo_now_url" class="person__image person__image--now">
                </div>
                <div>
                    <span class="person__name person__name--first">{{ person.first_name }}</span>
                    <span class="person__name person__name--first"> {{ person.nick_name }}</span>
                    <span class="person__name person__name--first"> {{ person.middle_name }}</span>                    
                    <span class="person__name person__name--last"> {{ person.last_name }}</span>
                    <span class="person__name person__name--married"> {{ person.married_name }}</span>
                    <span class="person__name person__name--first"> {{ person.suffix }}</span>
                </div>
                <div class="death-info" v-if="person.deceased">
                    <div class="death-info__date">{{person.deceased_date}}</div>
                    <div><a class="death-info__obituary-link" v-bind:href="person.obituary_url">Obituary</a></div>
                </div>
            </div>
        </script>

        <script type="text/x-template" id="personname-template">
            <div>
                <div>
                    <span class="person__name person__name--first">{{ person.first_name }}</span>
                    <span class="person__name person__name--first"> {{ person.nick_name }}</span>
                    <span class="person__name person__name--first"> {{ person.middle_name }}</span>                    
                    <span class="person__name person__name--last"> {{ person.last_name }}</span>
                    <span class="person__name person__name--married"> {{ person.married_name }}</span>
                    <span class="person__name person__name--first"> {{ person.suffix }}</span>
                </div>
            </div>
        </script>

        <script>
            new Vue({
                el: '#app',
                data: {
                    people : [],
                    collapsed: {
                        now: false,
                        now_without: true,
                        deceased: true
                    },
                    activeTab: 0
                },
                created: function () {
                    var that = this;

                    fetch('/data/people.json')
                        .then(results => results.json())

                        .then(data => {
                            data.sort(function (a, b) {
                                var nameA = a.id;
                                var nameB = b.id;
                                if (nameA < nameB) {
                                    return -1;
                                }
                                if (nameA > nameB) {
                                    return 1;
                                }
                                return 0;
                            });
                            this.people = data;
                        });
                }
            });

            Vue.component('person', {
                props: ['person'],
                computed: {
                    photo_then_url: function() {
                        if (this.person.photo_then) {
                            return './img/then/' + this.person.id + '.jpg';
                        } else {
                            return './img/memorial.jpg';
                        }
                    },
                    photo_now_url: function() {                                                
                        return './img/now/' + this.person.id + '.jpg';
                    }
                },
                template: "#person-template"
            })

            Vue.component('personname', {
                props: ['person'],
                template: '#personname-template'
            })
    
        </script>
    </body>
</html>