<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="White Station High School Class of 1970">
        <title>White Station High School Class of 1970</title>
        <link href="/css/main.css" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    </head>
    <body>
        <main>
            <div class="nav">
                <ul class="nav__list">
                    <li class="nav__list-item nav__list-item--home">
                        <img src="./img/White_Station_High_School_logo.gif" class="nav__logo" alt="White Station High School Logo">                        
                    </li>
                    <li class="nav__list-item nav__list-item--home">
                        <a class="nav__link nav__title" href="/">White Station High School Class of 1970</a>
                    </li>
                </ul>

            </div>
            <section class="cards">
                <div class="card card--padded card--spaced card--constrained card--half">
                    <h2 class="card__title">About the Site</h2>
                    <div class="card__description">
                        <p>
                            The purpose of this web site is to communicate with the <a href="http://www.scsk12.org/schools/whitestation.hs/site/index.shtml">White Station High School</a> - Class of 1970 in Memphis, Tennessee.
                        </p>
                        <p>
                            Learn some interesting facts about White Station High School in <a href="http://en.wikipedia.org/wiki/White_Station_High_School">wikipedia</a>. We primarily use the website to share news, such as about reunions and other gatherings that we might have. The planning committee for class events includes Vanden Willey, Linda (Kantor) Goodwin-Parkinson, Bob Plunk, Sharon (Pepper) Goldstein, Cindy (Anderson) McInntyre, Randy Stepherson, Barby (Fooks) Perlberg, Beverly (Ball) Garrison, Debbie Robinson, Gail (Sacks) Kirshner, Kathy (Jobe) Hays, Leslie Ballin, Stephanie (Solomon) Brannon, Pege (Sternberger) Vaughan, Jimmy Lewis, Brad Hanover, and Steve Fergus. If you are a classmate who wants to join the committee or just receive information about our events, <a href="mailto:lindakgoodwin@comcast.net">let us know</a>.            
                        </p>
                    </div>
                </div>
                <div class="card card--padded card--spaced card--constrained card--half">
                    <h2 class="card__title">News</h2>
                    <div class="card__description">
                        <p>Some text here about the reunion.</p>
                    </div>
                </div>
                <div class="card card--padded card--full card--centered card--constrained-small">
                    <h2 class="card__title">Get Social</h2>
                    <div class="card__description">
                        <p>Contact us or see what's going on in Facebook.</p>
                    </div>
                    <div class="cards">
                        <div class="card card--highlight card--centered card--spaced"><a href="https://www.facebook.com/groups/28463570769/">Find us on <img style="width:40px;" src="./img/f_logo_RGB-Blue_58.png"></a></div>
                        <div class="card card--highlight card--centered card--spaced"><a href="mailto:lindakgoodwin@comcast.net?subject=White%20Station%2070%20Website">Send us an Email <img style="width:40px;" src="./img/baseline_mail_black_48dp.png"></a></div>
                        
                    </div>
                </div>
            </section>
            <div id="app">
                <section class="section section--padded">
                    <h2 class="section__header">
                        Current Photo
                    </h2>
                    <div class="persons cards">
                        <person v-for="person in people" v-bind:key="person.id" v-bind:person="person" v-if="person.photo_now && !person.deceased"></person>
                    </div>
                </section>
                <section class="section section--padded">
                    <h2 class="section__header">No Current Photo</h2>
                    <div class="persons cards collapsed">
                        <person v-for="person in people" v-bind:key="person.id" v-bind:person="person" v-if="!person.photo_now && !person.deceased"></person>
                    </div>
                </section>
                <section class="section section--padded">
                    <h2>Deceased</h2>
                    <div class="persons cards">
                        <person v-for="person in people" v-bind:key="person.id" v-bind:person="person" v-if="person.deceased"></person>
                    </div>
                </section>
            </div>
        </main>        
        <footer></footer>
        <script src="https://cdn.jsdelivr.net/npm/promise-polyfill@7/dist/polyfill.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    
        <script>
            //document.getElementsByClassName("js-site-nav__list--toggle")[0].addEventListener('click', function (e) {e.preventDefault(); document.getElementsByTagName('body')[0].classList.toggle('menu--open');});
        </script>

        <script type="text/x-template" id="person-template">
            <div class="person card card--padded card--centered card--constrained">
                <div class="image__container">
                    <img v-bind:src="photo_then_url" class="person__image person__image--then">
                    <img v-if="person.photo_now && !person.deceased" v-bind:src="photo_now_url" class="person__image person__image--now">
                </div>
                <div>
                    <span class="person__name person__name--first">{{ person.first_name }}</span>                    
                    <span class="person__name person__name--maiden"> {{ person.maiden_name }}</span>
                    <span class="person__name person__name--last"> {{ person.last_name }}</span>
                </div>
                <div class="death-info" v-if="person.deceased">
                    <div class="death-info__date">{{person.deceased_date}}</div>
                    <div><a class="death-info__obituary-link" v-bind:href="person.obituary_url">Obituary</a></div>
                </div>
            </div>
        </script>

        <script>
            new Vue({
                el: '#app',
                data: {
                    people : [],
                    collapsed: {
                        now: false,
                        now_without: true,
                        deceased: true
                    }
                },
                created: function () {
                    var that = this;

                    fetch('/data/people.json')
                        .then(results => results.json())

                        .then(data => {
                            data.sort(function (a, b) {
                                var nameA = a.id;
                                var nameB = b.id;
                                if (nameA < nameB) {
                                    return -1;
                                }
                                if (nameA > nameB) {
                                    return 1;
                                }
                                return 0;
                            });
                            this.people = data;
                        });
                }
            });

            Vue.component('person', {
                props: ['person'],
                computed: {
                    photo_then_url: function() {
                        //return 'https://via.placeholder.com/150';
                        return './img/then/' + this.person.id + '.jpg';
                    },
                    photo_now_url: function() {
                        //return 'https://via.placeholder.com/150';
                        return './img/now/' + this.person.id + '.jpg';
                    }
                },
                template: "#person-template"
            })
    
        </script>
    </body>
</html>